<template>
  
{{#> BuildLayout game="pathfinder2" theme=theme}}
{{#> Left }}
  {{#> Pane bg=(ifeq theme "scifi" "starfield" "parchment") shadow="left"}}
    {{> MenuButtons}}

    {{#> Switch
      id="switch-milestones"
      current="character"
      var="#build-form.pick | default 'character'"
    }}

      {{#> SwitchCase value="character"}}
        {{> Milestones
          id="milestones-character"
          current="pick"
          var="#slides-character.jump"
          milestones=(array 
            (item milestone="pick" title="Start")
            (item milestone="character" title="Character")
            (item milestone="pages" title="Pages")
            (item milestone="colours" title="Appearance")
            (item milestone="picture" title="Picture")
            (item milestone="download" title="Download")
          )
        }}
      {{/SwitchCase}}

      {{#> SwitchCase value="gm"}}
        {{> Milestones
          id="milestones-gm"
          current="gm-pick"
          var="#slides-character.jump"
          milestones=(array
            (item milestone="pick" title="Start")
            (item milestone="gm-pick" title="GM")
            (item milestone="gm-options" title="Options")
            (item milestone="gm-colours" title="Appearance")
            (item milestone="gm-download" title="Download")
          )
        }}
      {{/SwitchCase}}

      {{#> SwitchCase value="starship"}}
        {{> Milestones
          id="milestones-starship"
          current="starship"
          var="#slides-character.jump"
          milestones=(array
            (item milestone="pick" title="Start")
            (item milestone="starship" title="Starship")
            (item milestone="starship-colours" title="Appearance")
            (item milestone="starship-download" title="Download")
          )
        }}
      {{/SwitchCase}}

      {{#> SwitchCase value="kingmaker"}}
        {{> Milestones
          id="milestones-kingmaker"
          current="kingmaker"
          var="#slides-character.jump"
          milestones=(array
            (item milestone="pick" title="Start")
            (item milestone="kingmaker" title="Kingmaker")
            (item milestone="kingmaker-colours" title="Appearance")
            (item milestone="kingmaker-download" title="Download")
          )
        }}
      {{/SwitchCase}}

      {{#> SwitchCase value="mini"}}
        {{> Milestones
          id="milestones-mini"
          current="pick"
          var="#slides-character.jump"
          milestones=(array
            (item milestone="pick" title="Start")
            (item milestone="mini" title="Map Figure")
            (item milestone="mini-colours" title="Appearance")
            (item milestone="mini-picture" title="Picture")
            (item milestone="mini-download" title="Download")
          )
        }}
      {{/SwitchCase}}

    {{/Switch}}
  {{/Pane}}
{{/Left}}

{{#> Right dark=true}}
  {{#> Pane bg=(ifeq theme "scifi" "scifi" "red") nopad=true spotlight=true}}
    {{> BuildFormPathfinder2 }}
  {{/Pane}}
{{/Right}}
{{/BuildLayout}}

{{> EditionMenu }}
{{> Pathfinder2AncestryMenu }}
{{#each pathfinder2.meta.heritages}}
  {{{dump this}}}
  {{> Pathfinder2HeritageMenu key=this select=(lookup pathfinder2 this) }}
{{/each}}
{{> Pathfinder2BackgroundMenu }}
{{> Pathfinder2ClassMenu }}

{{> ColourSelectMenu id="base-colour-menu" field="baseColour" title="Base Colour" }}
{{> ColourSelectMenu id="accent-colour-menu" field="accentColour" title="Accent Colour" }}

{{!-- {{> pathfinder2-ancestry-menu }}
{{#each pf2.subselects.ancestry}}
{{> pathfinder2-heritage-menu key=this.select items=this}}
{{/each}}
{{> pathfinder2-background-menu }}
{{> pathfinder2-class-menu }}
{{#each pf2.subselects.class}}
{{> pathfinder2-subclass-menu key=this.select items=this}}
{{/each}}
{{> pathfinder2-multiclass-menu }}
{{> pathfinder2-archetype-menu }}

{{> colour-picker-menu id="base" name="Base Colour" }}
{{> colour-picker-menu id="accent" name="Accent Colour" }} --}}

</template>

