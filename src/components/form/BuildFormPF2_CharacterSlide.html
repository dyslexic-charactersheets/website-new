<template>
  
  {{#> Row}}
  <h2>{{__ "Character"}}</h2>
  {{> Spacer}}

  <span>
    {{__ "Language"}}:
    {{#> Button class="btn btn--light" on-click="body.currentMenu = language-menu"}}
      {{> Icon icon="globe"}}{{__ (languagename lang)}}
    {{/Button}}
  </span>
{{/Row}}
  <table class="build-table">
      <tr>
        <th data-on-click="select ancestry">{{__ "Ancestry"}}</th>
        <th data-on-click="select heritage">{{__ "Heritage"}}</th>
      </tr>
      <tr>
        <td>
          {{> Output name="ancestry" var="#build-form.ancestry | ancestryName" on-click="show-menu form-select-ancestry"}}
        </td>
        <td>
          {{#> Switch
            id="switch-heritage"
            current="none"
          }}
            {{#> SwitchCase value="none" }}
              {{> Output name="heritage" var=""}}
            {{/SwitchCase}}

            {{#each pathfinder2.ancestry.values}}
              {{#> SwitchCase value=id}}
                {{#each selects}}
                  {{> Output name=select var="#build-form.heritage | heritageName" on-click="show-menu form-select-heritage"}}
                {{/each}}
              {{/SwitchCase}}
            {{/each}}
          {{/Switch}}
        </td>
      </tr>

      <tr>
        <th>{{__ "Background"}}</th>
      </tr>
      <tr>
        <td>
          {{> Output name="background" var="#build-form.background | backgroundName" on-click="show-menu form-select-background"}}
        </td>
      </tr>

      <tr>
        <td>
          <h4>{{__ "Class"}}</h4>
          {{> Output name="class" var="#build-form.class | className" on-click="show-menu form-select-class"}}
        </td>
        <td>
          {{#> Switch
            id="switch-subclass"
            current="none"
          }}
            {{#> SwitchCase value="none"}}
            <h4>&nbsp;</h4>
              {{> Output name="subclass" var=""}}
            {{/SwitchCase}}
            {{#each pathfinder2.class.value}}
              {{#> SwitchCase value=id}}
                {{#each selects}}
                  <h4>{{__ name}}</h4>
                  {{> Output name=select var=(str "#build-form.${select}" select=select) on-click=(str "show-menu form-select-${code}" code=code)}}
                {{/each}}
              {{/SwitchCase}}
            {{/each}}
          {{/Switch}}


              <!-- <div id="swap-area:subclass" class="build-table__swap swap-area">
                  <div class="swap-option swap-option--default swap-option--show" id="swap-option:subclass:default">
                      <h4>{{__ "Subclass"}}</h4>
                      <output name="subclass" data-select="" class="output--select"></output>
                  </div>
                  
                  {{#each pf2.selects.class.values}}
                  <div class="swap-option" id="swap-option:subclass:{{id}}">
                      {{#each selects}}
                      {{#if (eq max 1)}}
                      <h4>{{__ name}}</h4>
                      <output name="{{select}}" data-select="{{select}}" class="output--select"></output>
                      {{else}}
                      <h4>{{__ name}}</h4>
                      <div class="select-options">
                          {{#each values}}
                          <label for='{{id}}'><input type='checkbox' name='{{id}}' id='{{id}}'> {{__ name}}</label> 
                          {{/each}}
                      </div>
                      {{/if}}
                      {{/each}}
                  </div>
                  {{/each}}
              </div> -->
          </td>
      </tr>

      <tr id="build-multiclass-row">
          <th>{{__ "Multiclass"}}</th>
      </tr>
      <tr>
          <td colspan="2">
              <div id="list-area:multiclass" class="list-area">
                  <div class="list-item-template">
                      <output class="list-item-name"></output>
                      <output class="list-item-subitem"></output>
                      <button class="btn btn--light btn--remove button-remove-multiclass list-item-remove" data-select="multiclass">{{__ "Remove"}}</button>
                  </div>
              </div>
              <button class="btn btn--light button-add button-add-multiclass" data-select="multiclass">{{__ "Add"}}</button>
          </td>
      </tr>

      <tr id="build-archetype-row">
          <th>{{__ "Archetype"}}</th>
      </tr>
      <tr>
          <td colspan="2">
              <div id="list-area:archetype" class="list-area">
                  <div class="list-item-template">
                      <output class="list-item-name"></output>
                      <output class="list-item-subitem"></output>
                      <button class="btn btn--light btn--remove button-remove-multiclass list-item-remove" data-select="archetype">{{__ "Remove"}}</button>
                  </div>
              </div>
              <button class="btn btn--light button-add button-add-archetype" data-select="archetype">{{__ "Add"}}</button>
          </td>
      </tr>
  </table>

  {{#> Columns }}
      {{#> Column }}
          <h4>{{__ "Options"}}</h4>
          <fieldset>
              <p><label for='feat-diehard'><input type='checkbox' name='feat-diehard' id='feat-diehard'> {{__ "Diehard"}}</label></p>
              <p><label for='debug'><input type='checkbox' name='debug' id='debug'> {{__ "Debug layouts"}}</label></p>
          </fieldset>
      {{/Column}}
      {{#> Column }}
          <h4>{{__ "Variant Rules"}}</h4>
          <fieldset>
              <p><label for='option-free-archetype'><input type='checkbox' name='free-archetype' id='option-free-archetype'> {{__ "Free Archetype"}}</label></p>
              <p><label for='option-ancestry-paragon'><input type='checkbox' name='ancestry-paragon' id='option-ancestry-paragon'> {{__ "Ancestry Paragon"}}</label></p>
              <p><label for='option-automatic-bonus-progression'><input type='checkbox' name='automatic-bonus-progression' id='option-automatic-bonus-progression'> {{__ "Automatic Bonus Progression"}}</label></p>
              <p><label for='option-proficiency-without-level'><input type='checkbox' name='proficiency-without-level' id='option-proficiency-without-level'> {{__ "Proficiency Without Level"}}</label></p>
          </fieldset>
      
      {{/Column}}
  {{/Columns}}
</template>
